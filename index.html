<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>S. Shaun Benedict</title>
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="logo.png">
  <style>
    :root{
      --bg:#0b0f10;
      --panel:#071012;
      --green:#5aff7a;
      --muted:#7d8692;
      --dot-1:#ff5f56;
      --dot-2:#ffbd2e;
      --dot-3:#27c93f;
      --radius:14px;
      --max-width:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#06080a 0%, #071018 100%);font-family: 'Source Code Pro', monospace;color:var(--green)}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:30px}
    .terminal{
      width:min(95%, var(--max-width));
      height:min(78vh, 900px);
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.15));
      border-radius:var(--radius);
      box-shadow:0 10px 30px rgba(2,6,8,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      padding:14px;display:flex;flex-direction:column;overflow:hidden;border:1px solid rgba(255,255,255,0.03)
    }
    .topbar{display:flex;align-items:center;padding:6px 10px}
    .dots{display:flex;gap:8px;margin-right:10px}
    .dot{width:12px;height:12px;border-radius:50%;box-shadow:inset 0 -1px 0 rgba(0,0,0,0.25)}
    .dot.col1{background:var(--dot-1)}
    .dot.col2{background:var(--dot-2)}
    .dot.col3{background:var(--dot-3)}
    .title{color:var(--muted);font-size:13px}

    .screen{flex:1;padding:10px 16px;overflow:auto}
    .log{white-space:pre-wrap;line-height:1.45;color:var(--green);font-size:15px}
    .muted{color:var(--muted)}

    .prompt-line{display:flex;align-items:flex-start;gap:10px}
    .prompt{min-width:260px;max-width:40%;white-space:nowrap}
    .prompt .user{color:var(--green);font-weight:600}
    .prompt .host{color:var(--muted);margin-left:6px}

    .inputwrap{flex:1;display:flex}
    .cmd-input{flex:1;background:transparent;border:none;outline:none;color:var(--green);font:inherit;caret-color:var(--green);min-width:10px}
    .cmd-input::placeholder{color:rgba(90,255,122,0.3)}

    .line{display:flex;gap:8px;align-items:flex-start}
    .output{white-space:pre-wrap}

    @media(min-width:900px){
      .terminal{height:75vh}
      .prompt{min-width:300px}
    }

    .screen::-webkit-scrollbar{width:10px}
    .screen::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.04);border-radius:10px}

    @media(max-width:600px){
    .wrap { padding: 5px; }
    .terminal {
        height: 95vh;
        padding: 4px;
        min-width: 0;
        width: 100%;
    }
    .prompt {
        min-width: 90px;
        max-width: 60%;
        font-size: 12px;
        word-break: break-all;
    }
    .screen {
        padding: 6px 4px;
        font-size: 13px;
    }
    .log {
        font-size: 13px;
    }
    .prompt-line {
        flex-direction: column;
        gap: 4px;
        align-items: stretch;
    }
    .inputwrap {
        width: 100%;
    }
    .cmd-input {
        font-size: 14px;
        min-width: 0;
    }
}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="terminal" role="application" aria-label="Fake terminal">
      <div class="topbar">
        <div class="dots">
          <div class="dot col1" aria-hidden="true"></div>
          <div class="dot col2" aria-hidden="true"></div>
          <div class="dot col3" aria-hidden="true"></div>
        </div>
        <div class="title">bash — guest@shaunbenedict
        </div>
      </div>

      <div class="screen" id="screen">
        <div class="log" id="log"></div>
      </div>

      <div style="padding:10px 16px;border-top:1px solid rgba(255,255,255,0.02);">
        <form id="cmdform" autocomplete="off" onsubmit="return false;">
          <div class="prompt-line">
            <div class="prompt" id="prompt">guest@shaunbenedict:/$</div>
            <div class="inputwrap">
              <input id="cmd" class="cmd-input" spellcheck="false" autocomplete="off" autocapitalize="off" placeholder="type 'help' to begin" />
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Simulated filesystem
    const FS = {
      '/': {
        type: 'dir',
        children: {
          'about': { type: 'dir', children: { 'about.sh': { type: 'file', content: "echo 'Hey there! I'm Shaun — part-time human, full-time code wizard. I survive on coffee-free energy (yeah, I quit caffeine, don’t ask), love bending OS, AI, and web stuff into crazy projects. I once made a mini research paper at 13 because why not? Currently plotting world domination through AI... MWAHAHAHA. I talk to computers more than people, and sometimes they talk back. No lie. \n\n If you’re still reading this, congrats — you’re officially in my terminal dimension. Welcome!'" } } },
          'projects': { type: 'dir', children: { 'projects.sh': { type: 'file', content: "echo 'Projects:\n- Sherilyn3.0(Your Super-Smart, Super-Fun Sidekick!)\n- MoodyLune (A mental health companion app built with Flutter.)\n- LOL-Crypt (A suspiciously secure, emoji-based encrypted chat system built using Streamlit and Firebase)\n\nAND MANY MORE....'" } } },
          'contact': { type: 'dir', children: { 'contact.sh': { type: 'file', content: "echo 'Email: s.shaunbenedict@gmail.com\nInstagram: @s.shaunbenedict\nLinkedIn: in/shaunbenedict\nX: @naush1230'" } } },
          'readme.txt': { type: 'file', content: "Welcome to Shaun's HomeLab Access Point. Type 'help' for commands." }
        }
      }
    };
    const logo = document.createElement('img');
    logo.src = 'logo.png';
    logo.alt = 'Logo';
    logo.style.height = '22px';
    logo.style.width = '22px';
    logo.style.borderRadius = '50%';
    logo.style.marginRight = '10px';
    const topbar = document.querySelector('.topbar');
    topbar.insertBefore(logo, topbar.children[1]);
    let cwd = '/'; // current working directory (path)
    const logEl = document.getElementById('log');
    const screenEl = document.getElementById('screen');
    const input = document.getElementById('cmd');
    const promptEl = document.getElementById('prompt');
    const user = 'guest';
    const host = 'shaunbenedict';
    let history = [];
    let histIndex = -1;

    function pathJoin(base, part){ if(part.startsWith('/')) return normalizePath(part); if(base==='/' ) return normalizePath('/'+part); return normalizePath(base+'/'+part);}
    function normalizePath(p){ const parts=p.split('/').filter(Boolean); const out=[]; for(const part of parts){ if(part==='.') continue; if(part==='..') out.pop(); else out.push(part);} return '/'+out.join('/');}
    function getNode(path){ const p=normalizePath(path); const parts=p==='/'?[]:p.slice(1).split('/'); let node=FS['/']; for(const part of parts){ if(!node||node.type!=='dir'||!node.children[part]) return null; node=node.children[part]; } return node;}
    function listDir(path){ const node=getNode(path); if(!node) return null; if(node.type==='file') return null; return Object.keys(node.children).sort();}
    function writeLog(html){ logEl.insertAdjacentHTML('beforeend', html+'\n'); screenEl.scrollTop = screenEl.scrollHeight;}
    function renderPrompt(){ promptEl.textContent=`${user}@${host}:${cwd}$`; }
    function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    function cmdHelp(){
      return `Available commands:
    - ls              : list files
    - cd <dir>        : change directory
    - clear           : clear terminal
    - help            : show this help
    - ./name.sh       : run script
    - ava <question>  : talk with my personal assistant`;
    }

    function runScript(path){
      const node=getNode(path);
      if(!node) return `No such file: ${path}`;
      if(node.type!=='file') return `${path} is not a file`;
      return node.content.replace(/^echo\s+/, '').replace(/['"]/g,'');
    }

    // Gemini AI query
    async function askGemini(question){
      try{
        const res=await fetch('http://localhost:3000/ask',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({question})
        });
        const data=await res.json();
        return data.answer;
      }catch(e){
        return "Error: Cannot reach Gemini API";
      }
    }

    async function handleCommand(raw){
      const original=raw.trim();
      if(!original) return;
      writeLog(`<div class="line"><span class="prompt">${user}@${host}:${cwd}$</span> <span class="output">${escapeHtml(original)}</span></div>`);
      const parts=original.split(/\s+/);
      const cmd=parts[0];

      if(cmd==='help'){ writeLog(`<div class="output">${escapeHtml(cmdHelp())}</div>`); return;}
      if(cmd==='clear'){ logEl.innerHTML=''; return;}
      if(cmd==='ls'){ const arr=listDir(cwd); writeLog(`<div class="output">${arr?escapeHtml(arr.join('   ')):`ls: cannot access '${cwd}': No such directory`}</div>`); return;}
      if(cmd==='cd'){ const target=parts[1]||'/'; const newPath=pathJoin(cwd,target); const node=getNode(newPath); if(!node||node.type!=='dir'){ writeLog(`<div class="output muted">cd: ${target}: No such directory</div>`); return;} cwd=newPath; renderPrompt(); return;}

      // run script
      let toRun=null;
      if(cmd==='sudo'&&parts[1]){ if(parts[1].startsWith('./')) toRun=pathJoin(cwd,parts[1].slice(2)); }
      else if(cmd.startsWith('./')){ toRun=pathJoin(cwd,cmd.slice(2)); }
      if(toRun){ const out=runScript(toRun); writeLog(`<div class="output">${escapeHtml(out)}</div>`); return;}

      // Gemini AI ask
      if(cmd==='ava'){
        const query=parts.slice(1).join(' ');
        if(!query){ writeLog('<div class="output muted">Usage: ava <your question></div>'); return; }
        writeLog('<div class="output muted">Thinking...</div>');
        const answer = await askGemini(query);
        writeLog(`<div class="output">${escapeHtml(answer)}</div>`);
        return;
      }

      writeLog(`<div class="output muted">${escapeHtml(original)}: command not found</div>`);
    }

    // Input events
    document.getElementById('cmdform').addEventListener('submit', e=>{e.preventDefault(); handleCommand(input.value); history.push(input.value); histIndex=history.length; input.value='';});
    input.addEventListener('keydown', e=>{
      if(e.key==='Enter'){ e.preventDefault(); handleCommand(input.value); history.push(input.value); histIndex=history.length; input.value=''; return; }
      if(e.key==='ArrowUp'){ e.preventDefault(); if(history.length===0) return; histIndex=Math.max(0,histIndex-1); input.value=history[histIndex]||''; }
      if(e.key==='ArrowDown'){ e.preventDefault(); if(history.length===0) return; histIndex=Math.min(history.length,histIndex+1); input.value=histIndex===history.length?'':history[histIndex]||''; }
    });
    document.querySelector('.terminal').addEventListener('click', ()=> input.focus());
    writeLog('<div class="output muted">Welcome to Shaun\'s HomeLab Access Point. Type "help" for commands.</div>');
    renderPrompt();
    input.focus();
</script>
</body>
</html>
